# æŠ½æ ·æ•°æ®é›†è¯´æ˜Ž

æœ¬ç›®å½•åŒ…å«ä»ŽåŽŸå§‹æ•°æ® `data_filtered.csv`ï¼ˆçº¦1äº¿è¡Œï¼Œ3.6GBï¼‰ç”Ÿæˆçš„å¤šç§æŠ½æ ·æ•°æ®é›†ï¼Œç”¨äºŽä¸åŒåˆ†æžåœºæ™¯ã€‚

## æ•°æ®æ¥æº

- **åŽŸå§‹æ•°æ®**: æ·˜å®ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼ˆ2017-11-25 è‡³ 2017-12-03ï¼Œå…±9å¤©ï¼‰
- **æ€»è¡Œæ•°**: 100,095,231 è¡Œ
- **æ€»ç”¨æˆ·æ•°**: 987,991 äºº
- **æ—¶åŒºå¤„ç†**: åŽŸå§‹æ—¶é—´æˆ³ä¸ºUTCï¼Œå·²è½¬æ¢ä¸ºåŒ—äº¬æ—¶é—´ï¼ˆUTC+8ï¼‰

---

## æŠ½æ ·æ–¹æ¡ˆæ¦‚è§ˆ

### åŸºç¡€æŠ½æ ·ï¼ˆå…¨æ—¶é—´èŒƒå›´ï¼Œæ— æ—¶é—´çª—å£é™åˆ¶ï¼‰

| ç±»åž‹ | æ–‡ä»¶ | å¤§å° | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| éšæœºæŠ½æ · 1% | `random_1pct.csv` | 37 MB | å¿«é€Ÿæµ‹è¯•ä»£ç  |
| éšæœºæŠ½æ · 10% | `random_10pct.csv` | 369 MB | æ—¶é—´åˆ†å¸ƒã€è¡Œä¸ºå æ¯”åˆ†æž |
| ç”¨æˆ·æŠ½æ · 1% | `user_1pct.csv` | 37 MB | å¿«é€Ÿæµ‹è¯•ç”¨æˆ·çº§åˆ†æž |
| ç”¨æˆ·æŠ½æ · 10% | `user_10pct.csv` | 366 MB | è½¬åŒ–æ¼æ–—ã€RFMã€ç”¨æˆ·åˆ†ç¾¤ |
| åˆ†å±‚æŠ½æ · 1% | `stratified_1pct.csv` | 35 MB | å¿«é€Ÿæµ‹è¯• |
| åˆ†å±‚æŠ½æ · 10% | `stratified_10pct.csv` | 369 MB | è¡Œä¸ºåˆ†å¸ƒåˆ†æž |

### çº¯æ—¶é—´çª—å£æŠ½æ ·ï¼ˆ100%ç”¨æˆ·ï¼Œæ— ç”¨æˆ·æŠ½æ ·ï¼‰

| æ—¶é—´çª—å£ | æ–‡ä»¶ | å¤§å° | æ—¥æœŸèŒƒå›´ |
|----------|------|------|----------|
| 3å¤©-å‰æœŸ | `timewindow_window1_1125-1127.csv` | 1.1 GB | 11-25 ~ 11-27 |
| 3å¤©-ä¸­æœŸ | `timewindow_window2_1128-1130.csv` | 1.1 GB | 11-28 ~ 11-30 |
| 3å¤©-åŽæœŸ | `timewindow_window3_1201-1203.csv` | 1.4 GB | 12-01 ~ 12-03 |

### æ··åˆæŠ½æ ·ï¼šæ—¶é—´çª—å£ + ç”¨æˆ·æŠ½æ · â­ æŽ¨è

#### 10%ç”¨æˆ·æŠ½æ ·ï¼ˆè½»é‡çº§ï¼ŒæŽ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰

| æ—¶é—´çª—å£ | æ–‡ä»¶ | å¤§å° | ç”¨æˆ·æ•° |
|----------|------|------|--------|
| 3å¤©-å‰æœŸ | `hybrid_user10pct_window1_1125-1127.csv` | 112 MB | ~9.3ä¸‡ |
| 3å¤©-ä¸­æœŸ | `hybrid_user10pct_window2_1128-1130.csv` | 110 MB | ~9.3ä¸‡ |
| 3å¤©-åŽæœŸ | `hybrid_user10pct_window3_1201-1203.csv` | 138 MB | ~9.9ä¸‡ |
| 6å¤©-å‰æœŸ | `hybrid_user10pct_6day_window1_1125-1130.csv` | 221 MB | ~9.9ä¸‡ |
| 6å¤©-åŽæœŸ | `hybrid_user10pct_6day_window2_1128-1203.csv` | 249 MB | ~9.9ä¸‡ |
| **9å¤©-å®Œæ•´** â­â­ | `hybrid_user10pct_9day_full_1125-1203.csv` | **360 MB** | ~9.9ä¸‡ |

#### 25%ç”¨æˆ·æŠ½æ ·ï¼ˆä¸­ç­‰æ ·æœ¬ï¼‰

| æ—¶é—´çª—å£ | æ–‡ä»¶ | å¤§å° | ç”¨æˆ·æ•° |
|----------|------|------|--------|
| 3å¤©-å‰æœŸ | `hybrid_user25pct_window1_1125-1127.csv` | 280 MB | ~23ä¸‡ |
| 3å¤©-ä¸­æœŸ | `hybrid_user25pct_window2_1128-1130.csv` | 275 MB | ~23ä¸‡ |
| 3å¤©-åŽæœŸ | `hybrid_user25pct_window3_1201-1203.csv` | 344 MB | ~25ä¸‡ |
| 6å¤©-å‰æœŸ | `hybrid_user25pct_6day_window1_1125-1130.csv` | 554 MB | ~25ä¸‡ |
| 6å¤©-åŽæœŸ | `hybrid_user25pct_6day_window2_1128-1203.csv` | 618 MB | ~25ä¸‡ |
| **9å¤©-å®Œæ•´** | `hybrid_user25pct_9day_full_1125-1203.csv` | **899 MB** | ~25ä¸‡ |

#### 50%ç”¨æˆ·æŠ½æ ·ï¼ˆå¤§æ ·æœ¬ï¼‰

| æ—¶é—´çª—å£ | æ–‡ä»¶ | å¤§å° | ç”¨æˆ·æ•° |
|----------|------|------|--------|
| 3å¤©-å‰æœŸ | `hybrid_user50pct_window1_1125-1127.csv` | 559 MB | ~46ä¸‡ |
| 3å¤©-ä¸­æœŸ | `hybrid_user50pct_window2_1128-1130.csv` | 549 MB | ~47ä¸‡ |
| 3å¤©-åŽæœŸ | `hybrid_user50pct_window3_1201-1203.csv` | 687 MB | ~49ä¸‡ |
| 6å¤©-å‰æœŸ | `hybrid_user50pct_6day_window1_1125-1130.csv` | 1.1 GB | ~49ä¸‡ |
| 6å¤©-åŽæœŸ | `hybrid_user50pct_6day_window2_1128-1203.csv` | 1.2 GB | ~49ä¸‡ |
| **9å¤©-å®Œæ•´** | `hybrid_user50pct_9day_full_1125-1203.csv` | **1.8 GB** | ~49ä¸‡ |

---

## å„æ–¹æ¡ˆè¯¦ç»†è¯´æ˜Ž

### 1. å®Œå…¨éšæœºæŠ½æ · (Random Sampling)

**æ–‡ä»¶**: `random_10pct.csv`, `random_1pct.csv`

**ç”Ÿæˆé€»è¾‘**:
```python
df.sample(frac=0.10, random_state=42)  # 10%
df.sample(frac=0.01, random_state=42)  # 1%
```

**ç‰¹ç‚¹**:
- éšæœºæŠ½å–æŒ‡å®šæ¯”ä¾‹çš„è¡Œ
- ä¿æŒæ•°æ®æ•´ä½“åˆ†å¸ƒç‰¹å¾
- âš ï¸ ç”¨æˆ·è¡Œä¸ºé“¾å¯èƒ½ä¸å®Œæ•´ï¼ˆåŒä¸€ç”¨æˆ·çš„æµè§ˆâ†’è´­ä¹°å¯èƒ½è¢«æ‹†åˆ†ï¼‰

**é€‚ç”¨åœºæ™¯**:
- âœ… æ—¶é—´åˆ†å¸ƒåˆ†æžï¼ˆå°æ—¶ã€æ˜ŸæœŸçƒ­åŠ›å›¾ï¼‰
- âœ… è¡Œä¸ºç±»åž‹å æ¯”åˆ†æž
- âš ï¸ ä¸é€‚åˆè½¬åŒ–æ¼æ–—åˆ†æž
- âš ï¸ ä¸é€‚åˆRFMåˆ†æž

---

### 2. æŒ‰ç”¨æˆ·æŠ½æ · (User-based Sampling) â­ æŽ¨è

**æ–‡ä»¶**: `user_10pct.csv`, `user_1pct.csv`

**ç”Ÿæˆé€»è¾‘**:
```python
# å…ˆéšæœºæŠ½å–10%çš„ç”¨æˆ·
sampled_users = np.random.choice(all_users, size=int(len(all_users)*0.10), replace=False)
# ä¿ç•™è¿™äº›ç”¨æˆ·çš„å…¨éƒ¨è¡Œä¸ºè®°å½•
df[df['ç”¨æˆ·ID'].isin(sampled_users)]
```

**ç‰¹ç‚¹**:
- ä¿ç•™è¢«æŠ½å–ç”¨æˆ·çš„**å®Œæ•´è¡Œä¸ºé“¾**
- æ¯ä¸ªç”¨æˆ·çš„æµè§ˆâ†’åŠ è´­â†’æ”¶è—â†’è´­ä¹°è·¯å¾„å®Œæ•´
- æ•°æ®é‡çº¦ä¸ºåŽŸå§‹æ•°æ®çš„10%ï¼ˆä½†å› ç”¨æˆ·æ´»è·ƒåº¦ä¸åŒï¼Œå®žé™…è¡Œæ•°å¯èƒ½ç•¥æœ‰åå·®ï¼‰

**é€‚ç”¨åœºæ™¯**:
- âœ… **è½¬åŒ–æ¼æ–—åˆ†æž**
- âœ… **RFMæ¨¡åž‹**
- âœ… **ç”¨æˆ·åˆ†ç¾¤/K-Meansèšç±»**
- âœ… ç”¨æˆ·è¡Œä¸ºè·¯å¾„åˆ†æž
- âš ï¸ å•†å“/å“ç±»æŽ’åå¯èƒ½æœ‰åå·®

---

### 3. åˆ†å±‚æŠ½æ · (Stratified Sampling)

**æ–‡ä»¶**: `stratified_10pct.csv`, `stratified_1pct.csv`

**ç”Ÿæˆé€»è¾‘**:
```python
# æŒ‰è¡Œä¸ºç±»åž‹åˆ†å±‚ï¼Œæ¯ç§è¡Œä¸ºæŠ½å–ç›¸åŒæ¯”ä¾‹
df.groupby('è¡Œä¸ºç±»åž‹').apply(lambda x: x.sample(frac=0.10, random_state=42))
```

**ç‰¹ç‚¹**:
- ä¿è¯å„è¡Œä¸ºç±»åž‹ï¼ˆpv/cart/fav/buyï¼‰çš„æ¯”ä¾‹ä¸ŽåŽŸå§‹æ•°æ®å®Œå…¨ä¸€è‡´
- åŽŸå§‹æ¯”ä¾‹: pv 89.58%, cart 5.53%, fav 2.89%, buy 2.01%

**é€‚ç”¨åœºæ™¯**:
- âœ… è¡Œä¸ºç±»åž‹åˆ†å¸ƒåˆ†æž
- âœ… éœ€è¦ç²¾ç¡®ä¿æŒè¡Œä¸ºæ¯”ä¾‹çš„åœºæ™¯
- âš ï¸ ç”¨æˆ·è¡Œä¸ºé“¾å¯èƒ½ä¸å®Œæ•´

---

### 4. 3å¤©æ—¶é—´çª—å£ (Time Window Sampling)

**æ–‡ä»¶**: 
- `timewindow_window1_1125-1127.csv` (å‰æœŸ: 11-25 ~ 11-27)
- `timewindow_window2_1128-1130.csv` (ä¸­æœŸ: 11-28 ~ 11-30)
- `timewindow_window3_1201-1203.csv` (åŽæœŸ: 12-01 ~ 12-03)

**ç”Ÿæˆé€»è¾‘**:
```python
# ç­›é€‰æŒ‡å®šæ—¥æœŸèŒƒå›´å†…çš„æ‰€æœ‰æ•°æ®
mask = (df['æ—¥æœŸ'] >= '2017-11-25') & (df['æ—¥æœŸ'] <= '2017-11-27')
df[mask]
```

**ç‰¹ç‚¹**:
- ä¿ç•™æŒ‡å®š3å¤©å†…çš„**å®Œæ•´æ•°æ®**ï¼Œæ— ä»»ä½•æŠ½æ ·
- ç”¨æˆ·åœ¨è¯¥æ—¶é—´çª—å£å†…çš„è¡Œä¸ºé“¾å®Œæ•´
- å¯å¯¹æ¯”ä¸åŒæ—¶é—´æ®µçš„ç”¨æˆ·è¡Œä¸ºå·®å¼‚
- 3å¤©çª—å£é¿å…äº†æŒ‰è‡ªç„¶æ—¥åˆ‡å‰²å¯¼è‡´çš„è·¨å¤©è¡Œä¸ºå‰²è£‚é—®é¢˜ï¼ˆå¦‚ç†¬å¤œç”¨æˆ·çš„è¡Œä¸ºï¼‰

**é€‚ç”¨åœºæ™¯**:
- âœ… å®Œæ•´çš„è½¬åŒ–æ¼æ–—åˆ†æž
- âœ… ç”¨æˆ·è¡Œä¸ºè·¯å¾„åˆ†æž
- âœ… æ—¶é—´æ®µå¯¹æ¯”åˆ†æžï¼ˆå‰æœŸ vs ä¸­æœŸ vs åŽæœŸï¼‰
- âœ… RFMåˆ†æžï¼ˆä½¿ç”¨å•ä¸ªçª—å£ï¼‰

---

### 5. æ··åˆæŠ½æ ·ï¼šæ—¶é—´çª—å£ + ç”¨æˆ·æŠ½æ · â­â­ å¼ºçƒˆæŽ¨è

**æ–‡ä»¶**: 
- `hybrid_user10pct_window1_1125-1127.csv` (å‰æœŸ: 112 MB, ~312ä¸‡è¡Œ, ~9.3ä¸‡ç”¨æˆ·)
- `hybrid_user10pct_window2_1128-1130.csv` (ä¸­æœŸ: 110 MB, ~306ä¸‡è¡Œ, ~9.3ä¸‡ç”¨æˆ·)
- `hybrid_user10pct_window3_1201-1203.csv` (åŽæœŸ: 138 MB, ~384ä¸‡è¡Œ, ~9.9ä¸‡ç”¨æˆ·)

**ç”Ÿæˆé€»è¾‘**:
```python
# Step 1: ç­›é€‰3å¤©æ—¶é—´çª—å£
mask = (df['æ—¥æœŸ'] >= '2017-11-25') & (df['æ—¥æœŸ'] <= '2017-11-27')
df_window = df[mask]

# Step 2: åœ¨è¯¥çª—å£å†…éšæœºæŠ½å–10%çš„ç”¨æˆ·
window_users = df_window['ç”¨æˆ·ID'].unique()
sampled_users = np.random.choice(window_users, size=int(len(window_users)*0.10), replace=False)

# Step 3: ä¿ç•™è¿™äº›ç”¨æˆ·åœ¨è¯¥çª—å£å†…çš„å…¨éƒ¨è¡Œä¸º
df_window[df_window['ç”¨æˆ·ID'].isin(sampled_users)]
```

**ç‰¹ç‚¹**:
- **åŒé‡ä¼˜åŠ¿ç»“åˆ**: 
  - æ—¶é—´çª—å£ä¿è¯3å¤©å†…ç”¨æˆ·è¡Œä¸ºä¸è¢«è·¨å¤©åˆ‡å‰²
  - ç”¨æˆ·æŠ½æ ·ä¿è¯æ¯ä¸ªè¢«é€‰ç”¨æˆ·çš„è¡Œä¸ºé“¾å®Œæ•´
- **æ–‡ä»¶å¤§å°é€‚ä¸­**: æ¯ä¸ªçª—å£çº¦110-140MBï¼ˆçº¦ä¸ºçº¯æ—¶é—´çª—å£çš„1/10ï¼‰
- **åŠ è½½é€Ÿåº¦å¿«**: çº¦300ä¸‡è¡Œï¼Œpandasç§’çº§åŠ è½½
- **ç»Ÿè®¡æ„ä¹‰ä¿ç•™**: æ¯ä¸ªçª—å£ä»æœ‰9ä¸‡+ç”¨æˆ·ï¼Œæ ·æœ¬é‡è¶³å¤Ÿ

**é€‚ç”¨åœºæ™¯**:
- âœ… **è½¬åŒ–æ¼æ–—åˆ†æž**ï¼ˆç”¨æˆ·è¡Œä¸ºé“¾å®Œæ•´ï¼‰
- âœ… **RFMæ¨¡åž‹**ï¼ˆç”¨æˆ·è¡Œä¸ºå®Œæ•´ï¼‰
- âœ… **ç”¨æˆ·åˆ†ç¾¤/K-Meansèšç±»**
- âœ… **æ—¶é—´æ®µå¯¹æ¯”åˆ†æž**ï¼ˆ3ä¸ªçª—å£å¯å¯¹æ¯”ï¼‰
- âœ… **æ—¥å¸¸å¼€å‘è°ƒè¯•**ï¼ˆæ–‡ä»¶å°ï¼ŒåŠ è½½å¿«ï¼‰
- âœ… **ç¬”è®°æœ¬ç”µè„‘/å†…å­˜å—é™çŽ¯å¢ƒ**

**è¡Œä¸ºåˆ†å¸ƒç»Ÿè®¡**:
| çª—å£ | pv | cart | fav | buy | è´­ä¹°çŽ‡ |
|------|-----|------|-----|-----|--------|
| å‰æœŸ | 2,794,919 | 169,631 | 89,512 | 64,103 | 2.06% |
| ä¸­æœŸ | 2,735,656 | 164,933 | 89,582 | 65,220 | 2.13% |
| åŽæœŸ | 3,439,428 | 218,824 | 108,821 | 72,381 | 1.89% |

---

### 6. 6å¤©/9å¤©æ—¶é—´çª—å£ + ç”¨æˆ·æŠ½æ · â­â­ å¼ºçƒˆæŽ¨è

**6å¤©çª—å£æ–‡ä»¶**: 
- `hybrid_user10pct_6day_window1_1125-1130.csv` (å‰6å¤©: 221 MB, ~615ä¸‡è¡Œ, ~9.9ä¸‡ç”¨æˆ·)
- `hybrid_user10pct_6day_window2_1128-1203.csv` (åŽ6å¤©: 249 MB, ~693ä¸‡è¡Œ, ~9.9ä¸‡ç”¨æˆ·)

**9å¤©çª—å£æ–‡ä»¶**: 
- `hybrid_user10pct_9day_full_1125-1203.csv` (å®Œæ•´9å¤©: **360 MB**, ~1001ä¸‡è¡Œ, ~9.9ä¸‡ç”¨æˆ·) â­â­

**ç”Ÿæˆé€»è¾‘**: ä¸Ž3å¤©æ··åˆæŠ½æ ·ç›¸åŒï¼Œåªæ˜¯æ—¶é—´çª—å£æ›´é•¿ã€‚

**ç‰¹ç‚¹**:
- **æ›´å®Œæ•´çš„ç”¨æˆ·å‘¨æœŸ**: 6å¤©/9å¤©çª—å£èƒ½æ•èŽ·ç”¨æˆ·ä»Žæµè§ˆåˆ°è´­ä¹°çš„å®Œæ•´å†³ç­–å‘¨æœŸ
- **9å¤©æ–‡ä»¶æ˜¯æœ€ä½³é€‰æ‹©**: åŒ…å«å…¨éƒ¨9å¤©æ•°æ®çš„10%ç”¨æˆ·ï¼Œç”¨æˆ·è¡Œä¸ºé“¾100%å®Œæ•´
- **æ–‡ä»¶å¤§å°åˆç†**: 9å¤©çª—å£ä»…360MBï¼Œä»å¯å¿«é€ŸåŠ è½½

**é€‚ç”¨åœºæ™¯**:
- âœ… **å®Œæ•´ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸåˆ†æž**
- âœ… **å¤è´­è¡Œä¸ºåˆ†æž**ï¼ˆ9å¤©çª—å£å¯è§‚å¯Ÿå¤è´­ï¼‰
- âœ… **RFMæ¨¡åž‹**ï¼ˆæŽ¨èä½¿ç”¨9å¤©å®Œæ•´æ•°æ®ï¼‰
- âœ… **ç”¨æˆ·åˆ†ç¾¤/èšç±»åˆ†æž**
- âœ… **æ—¶é—´è¶‹åŠ¿åˆ†æž**

**è¡Œä¸ºåˆ†å¸ƒç»Ÿè®¡**:
| çª—å£ | å¤©æ•° | è¡Œæ•° | pv | cart | fav | buy | è´­ä¹°çŽ‡ |
|------|------|------|-----|------|-----|-----|--------|
| å‰6å¤© | 6 | 615ä¸‡ | 5,511,628 | 334,801 | 176,462 | 129,500 | 2.10% |
| åŽ6å¤© | 6 | 693ä¸‡ | 6,204,888 | 385,221 | 199,872 | 137,242 | 1.98% |
| **å®Œæ•´9å¤©** | **9** | **1001ä¸‡** | **8,966,749** | **554,872** | **287,818** | **201,311** | **2.01%** |

---

### 7. 25%/50%ç”¨æˆ·æŠ½æ · - æ›´å¤§æ ·æœ¬é‡

å½“10%ç”¨æˆ·æ ·æœ¬ä¸è¶³ä»¥æ»¡è¶³åˆ†æžéœ€æ±‚æ—¶ï¼Œå¯ä½¿ç”¨25%æˆ–50%ç”¨æˆ·æŠ½æ ·ã€‚

**25%ç”¨æˆ·æŠ½æ ·æ–‡ä»¶æ±‡æ€»**:
| çª—å£ç±»åž‹ | æ–‡ä»¶å | è¡Œæ•° | ç”¨æˆ·æ•° | æ–‡ä»¶å¤§å° |
|----------|--------|------|--------|----------|
| 3å¤©-å‰æœŸ | `hybrid_user25pct_window1_1125-1127.csv` | 780ä¸‡ | 23.2ä¸‡ | 280 MB |
| 3å¤©-ä¸­æœŸ | `hybrid_user25pct_window2_1128-1130.csv` | 767ä¸‡ | 23.3ä¸‡ | 275 MB |
| 3å¤©-åŽæœŸ | `hybrid_user25pct_window3_1201-1203.csv` | 958ä¸‡ | 24.7ä¸‡ | 344 MB |
| 6å¤©-å‰æœŸ | `hybrid_user25pct_6day_window1_1125-1130.csv` | 1542ä¸‡ | 24.7ä¸‡ | 554 MB |
| 6å¤©-åŽæœŸ | `hybrid_user25pct_6day_window2_1128-1203.csv` | 1721ä¸‡ | 24.7ä¸‡ | 618 MB |
| **9å¤©-å®Œæ•´** | `hybrid_user25pct_9day_full_1125-1203.csv` | **2503ä¸‡** | **24.7ä¸‡** | **899 MB** |

**50%ç”¨æˆ·æŠ½æ ·æ–‡ä»¶æ±‡æ€»**:
| çª—å£ç±»åž‹ | æ–‡ä»¶å | è¡Œæ•° | ç”¨æˆ·æ•° | æ–‡ä»¶å¤§å° |
|----------|--------|------|--------|----------|
| 3å¤©-å‰æœŸ | `hybrid_user50pct_window1_1125-1127.csv` | 1556ä¸‡ | 46.4ä¸‡ | 559 MB |
| 3å¤©-ä¸­æœŸ | `hybrid_user50pct_window2_1128-1130.csv` | 1528ä¸‡ | 46.7ä¸‡ | 549 MB |
| 3å¤©-åŽæœŸ | `hybrid_user50pct_window3_1201-1203.csv` | 1913ä¸‡ | 49.4ä¸‡ | 687 MB |
| 6å¤©-å‰æœŸ | `hybrid_user50pct_6day_window1_1125-1130.csv` | 3085ä¸‡ | 49.4ä¸‡ | 1.1 GB |
| 6å¤©-åŽæœŸ | `hybrid_user50pct_6day_window2_1128-1203.csv` | 3445ä¸‡ | 49.4ä¸‡ | 1.2 GB |
| **9å¤©-å®Œæ•´** | `hybrid_user50pct_9day_full_1125-1203.csv` | **4999ä¸‡** | **49.4ä¸‡** | **1.8 GB** |

**é€‚ç”¨åœºæ™¯**:
- âœ… éœ€è¦æ›´ç²¾ç¡®çš„ç»Ÿè®¡åˆ†æžï¼ˆæ›´å¤§æ ·æœ¬é‡å‡å°‘æŠ½æ ·è¯¯å·®ï¼‰
- âœ… ç¨€æœ‰è¡Œä¸ºåˆ†æžï¼ˆå¦‚ä½Žé¢‘è´­ä¹°ç”¨æˆ·ï¼‰
- âœ… æœºå™¨å­¦ä¹ æ¨¡åž‹è®­ç»ƒï¼ˆéœ€è¦æ›´å¤šè®­ç»ƒæ•°æ®ï¼‰
- âœ… A/Bæµ‹è¯•å¯¹æ¯”åˆ†æž

---

## æ•°æ®æ ¼å¼

æ‰€æœ‰æ–‡ä»¶å‡ä¸ºCSVæ ¼å¼ï¼ŒåŒ…å«ä»¥ä¸‹åˆ—ï¼š

| åˆ—å | ç±»åž‹ | è¯´æ˜Ž |
|------|------|------|
| ç”¨æˆ·ID | int | ç”¨æˆ·å”¯ä¸€æ ‡è¯† |
| å•†å“ID | int | å•†å“å”¯ä¸€æ ‡è¯† |
| å•†å“ç±»ç›®ID | int | å•†å“æ‰€å±žç±»ç›® |
| è¡Œä¸ºç±»åž‹ | str | pv(æµè§ˆ)/cart(åŠ è´­)/fav(æ”¶è—)/buy(è´­ä¹°) |
| æ—¶é—´æˆ³ | int | Unixæ—¶é—´æˆ³ï¼ˆUTCæ—¶åŒºï¼‰ |

**æ³¨æ„**: æ—¶é—´æˆ³ä¸ºUTCæ—¶åŒºï¼Œä½¿ç”¨æ—¶éœ€è½¬æ¢ä¸ºåŒ—äº¬æ—¶é—´ï¼š
```python
df['æ—¶é—´'] = pd.to_datetime(df['æ—¶é—´æˆ³'] + 8*3600, unit='s')
```

---

## å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ•°æ®é›†ï¼Ÿ

```
éœ€è¦åšä»€ä¹ˆåˆ†æžï¼Ÿ
â”‚
â”œâ”€ å®Œæ•´å‘¨æœŸåˆ†æžï¼ˆRFMã€ç”¨æˆ·åˆ†ç¾¤ã€å¤è´­ï¼‰â­â­ æœ€æŽ¨è
â”‚   â”œâ”€ è½»é‡ç‰ˆ: hybrid_user10pct_9day_full_1125-1203.csvï¼ˆ360MBï¼Œ10%ç”¨æˆ·ï¼‰
â”‚   â”œâ”€ ä¸­ç­‰ç‰ˆ: hybrid_user25pct_9day_full_1125-1203.csvï¼ˆ899MBï¼Œ25%ç”¨æˆ·ï¼‰
â”‚   â””â”€ å®Œæ•´ç‰ˆ: hybrid_user50pct_9day_full_1125-1203.csvï¼ˆ1.8GBï¼Œ50%ç”¨æˆ·ï¼‰
â”‚
â”œâ”€ è½»é‡å¿«é€Ÿåˆ†æžï¼ˆ3å¤©çª—å£ï¼Œ10%ç”¨æˆ·ï¼‰
â”‚   â””â”€ ä½¿ç”¨ hybrid_user10pct_window*.csvï¼ˆ110-140MBï¼‰
â”‚
â”œâ”€ ä¸­ç­‰æ ·æœ¬åˆ†æžï¼ˆ3å¤©çª—å£ï¼Œ25%ç”¨æˆ·ï¼‰
â”‚   â””â”€ ä½¿ç”¨ hybrid_user25pct_window*.csvï¼ˆ275-344MBï¼‰
â”‚
â”œâ”€ å¤§æ ·æœ¬åˆ†æžï¼ˆ3å¤©çª—å£ï¼Œ50%ç”¨æˆ·ï¼‰
â”‚   â””â”€ ä½¿ç”¨ hybrid_user50pct_window*.csvï¼ˆ549-687MBï¼‰
â”‚
â”œâ”€ ä¸­é•¿æœŸåˆ†æžï¼ˆ6å¤©çª—å£ï¼‰
â”‚   â”œâ”€ 10%ç”¨æˆ·: hybrid_user10pct_6day_window*.csvï¼ˆ220-250MBï¼‰
â”‚   â”œâ”€ 25%ç”¨æˆ·: hybrid_user25pct_6day_window*.csvï¼ˆ554-618MBï¼‰
â”‚   â””â”€ 50%ç”¨æˆ·: hybrid_user50pct_6day_window*.csvï¼ˆ1.1-1.2GBï¼‰
â”‚
â”œâ”€ æ—¶é—´åˆ†å¸ƒåˆ†æžï¼ˆçƒ­åŠ›å›¾ã€è¶‹åŠ¿å›¾ï¼‰
â”‚   â””â”€ ä½¿ç”¨ random_10pct.csv æˆ– stratified_10pct.csv
â”‚
â”œâ”€ å¿«é€Ÿæµ‹è¯•ä»£ç 
â”‚   â””â”€ ä½¿ç”¨ *_1pct.csvï¼ˆçº¦37MBï¼‰
â”‚
â””â”€ å®Œæ•´åˆ†æžï¼ˆæ— æŠ½æ ·ï¼Œå†…å­˜å……è¶³ï¼‰
    â””â”€ ä½¿ç”¨ timewindow_window*.csvï¼ˆçº¦1.1-1.4GBï¼‰
```

**ðŸŽ¯ æŽ¨èé€‰æ‹©**:
- **æ—¥å¸¸åˆ†æž**: `hybrid_user10pct_9day_full_1125-1203.csv`ï¼ˆ360MBï¼Œå¹³è¡¡é€Ÿåº¦ä¸Žæ ·æœ¬é‡ï¼‰
- **ç²¾ç¡®åˆ†æž**: `hybrid_user25pct_9day_full_1125-1203.csv`ï¼ˆ899MBï¼Œæ›´å¤§æ ·æœ¬ï¼‰
- **å¤§è§„æ¨¡åˆ†æž**: `hybrid_user50pct_9day_full_1125-1203.csv`ï¼ˆ1.8GBï¼ŒåŠæ•°ç”¨æˆ·ï¼‰

---

## éšæœºç§å­

æ‰€æœ‰æŠ½æ ·ä½¿ç”¨ç›¸åŒçš„éšæœºç§å­ `random_state=42`ï¼Œç¡®ä¿ç»“æžœå¯å¤çŽ°ã€‚

---

*ç”Ÿæˆæ—¶é—´: 2025-12-09*
